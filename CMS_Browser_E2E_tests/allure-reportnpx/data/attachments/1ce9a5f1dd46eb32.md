# Test info

- Name: Customer Device Management >> Delete device
- Location: C:\Users\Daly\OneDrive - ESPRIT\Documents\Stage PFE\CMS_Browser_E2E_tests\tests\cutomer\customer-devices-tests.spec.ts:46:7

# Error details

```
Error: page.hover: Test timeout of 50000ms exceeded.
Call log:
  - waiting for locator('button:has-text("Delete")')
    - locator resolved to 10 elements. Proceeding with the first one: <button disabled tabindex="-1" type="button" class="MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-outlinedError MuiButton-sizeSmall MuiButton-outlinedSizeSmall Mui-disabled MuiButton-root MuiButton-outlined MuiButton-outlinedError MuiButton-sizeSmall MuiButton-outlinedSizeSmall css-1uw9jwl">…</button>
  - attempting hover action
    2 × waiting for element to be visible and stable
      - element is visible and stable
      - scrolling into view if needed
      - done scrolling
      - <span class="" aria-label="This Device is associated to a Virtual Drive, try to delete this Virtual Drive first!">…</span> intercepts pointer events
    - retrying hover action
    - waiting 20ms
    2 × waiting for element to be visible and stable
      - element is visible and stable
      - scrolling into view if needed
      - done scrolling
      - <span class="" aria-label="This Device is associated to a Virtual Drive, try to delete this Virtual Drive first!">…</span> intercepts pointer events
    - retrying hover action
      - waiting 100ms
    76 × waiting for element to be visible and stable
       - element is visible and stable
       - scrolling into view if needed
       - done scrolling
       - <span class="" aria-label="This Device is associated to a Virtual Drive, try to delete this Virtual Drive first!">…</span> intercepts pointer events
     - retrying hover action
       - waiting 500ms

    at C:\Users\Daly\OneDrive - ESPRIT\Documents\Stage PFE\CMS_Browser_E2E_tests\tests\cutomer\customer-devices-tests.spec.ts:50:16
```

# Page snapshot

```yaml
- link:
  - /url: /
- button
- list:
  - listitem:
    - link "PlayBack":
      - /url: /playback/
      - paragraph: PlayBack
  - listitem:
    - separator:
      - paragraph: Settings
  - listitem:
    - link "My Devices":
      - /url: /devices/
      - paragraph: My Devices
  - listitem:
    - link "My Channels":
      - /url: /channels/
      - paragraph: My Channels
  - listitem:
    - link "My Sites":
      - /url: /sites/
      - paragraph: My Sites
  - listitem:
    - link "Users & Roles":
      - /url: /team/
      - paragraph: Users & Roles
  - listitem:
    - separator:
      - paragraph: Account
  - listitem:
    - link "Preference":
      - /url: /
      - paragraph: Preference
  - listitem:
    - link "Change Password":
      - /url: /change-password/
      - paragraph: Change Password
  - listitem:
    - link "Logout":
      - /url: /
      - paragraph: Logout
- banner:
  - button
  - button
  - text: customer
- main:
  - text: Devices
  - button "Add device"
  - text: Device Name
  - textbox "Device Name"
  - text: Manufacturer
  - button "Manufacturer All": All
  - text: Site name
  - button "Site name All": All
  - grid:
    - rowgroup:
      - row "Device Name Manufacturer Site Name Cloud Drive Channels Actions":
        - columnheader "Device Name"
        - columnheader "Manufacturer"
        - columnheader "Site Name"
        - columnheader "Cloud Drive"
        - columnheader "Channels"
        - columnheader "Actions"
    - row "dev-test Dahua site -280 50 GB 8 This Device is associated to a Virtual Drive, try to delete this Virtual Drive first!":
      - cell "dev-test":
        - paragraph: dev-test
      - cell "Dahua":
        - paragraph: Dahua
      - cell "site -280":
        - paragraph: site -280
      - cell "50 GB":
        - paragraph: 50 GB
      - cell "8":
        - paragraph:
          - link "8":
            - /url: /channels/?device_name=dev-test
      - cell "This Device is associated to a Virtual Drive, try to delete this Virtual Drive first!":
        - button
        - button [disabled]
    - row "dev-test Dahua site -280 50 GB 8 This Device is associated to a Virtual Drive, try to delete this Virtual Drive first!":
      - cell "dev-test":
        - paragraph: dev-test
      - cell "Dahua":
        - paragraph: Dahua
      - cell "site -280":
        - paragraph: site -280
      - cell "50 GB":
        - paragraph: 50 GB
      - cell "8":
        - paragraph:
          - link "8":
            - /url: /channels/?device_name=dev-test
      - cell "This Device is associated to a Virtual Drive, try to delete this Virtual Drive first!":
        - button
        - button [disabled]
    - row "dev-test Dahua site -280 50 GB 8 This Device is associated to a Virtual Drive, try to delete this Virtual Drive first!":
      - cell "dev-test":
        - paragraph: dev-test
      - cell "Dahua":
        - paragraph: Dahua
      - cell "site -280":
        - paragraph: site -280
      - cell "50 GB":
        - paragraph: 50 GB
      - cell "8":
        - paragraph:
          - link "8":
            - /url: /channels/?device_name=dev-test
      - cell "This Device is associated to a Virtual Drive, try to delete this Virtual Drive first!":
        - button
        - button [disabled]
    - row "dev-test Dahua site -280 50 GB 8 This Device is associated to a Virtual Drive, try to delete this Virtual Drive first!":
      - cell "dev-test":
        - paragraph: dev-test
      - cell "Dahua":
        - paragraph: Dahua
      - cell "site -280":
        - paragraph: site -280
      - cell "50 GB":
        - paragraph: 50 GB
      - cell "8":
        - paragraph:
          - link "8":
            - /url: /channels/?device_name=dev-test
      - cell "This Device is associated to a Virtual Drive, try to delete this Virtual Drive first!":
        - button
        - button [disabled]
    - row "dev-test Dahua site -280 50 GB 8 This Device is associated to a Virtual Drive, try to delete this Virtual Drive first!":
      - cell "dev-test":
        - paragraph: dev-test
      - cell "Dahua":
        - paragraph: Dahua
      - cell "site -280":
        - paragraph: site -280
      - cell "50 GB":
        - paragraph: 50 GB
      - cell "8":
        - paragraph:
          - link "8":
            - /url: /channels/?device_name=dev-test
      - cell "This Device is associated to a Virtual Drive, try to delete this Virtual Drive first!":
        - button
        - button [disabled]
    - row "dev-test Dahua site -280 50 GB 8 This Device is associated to a Virtual Drive, try to delete this Virtual Drive first!":
      - cell "dev-test":
        - paragraph: dev-test
      - cell "Dahua":
        - paragraph: Dahua
      - cell "site -280":
        - paragraph: site -280
      - cell "50 GB":
        - paragraph: 50 GB
      - cell "8":
        - paragraph:
          - link "8":
            - /url: /channels/?device_name=dev-test
      - cell "This Device is associated to a Virtual Drive, try to delete this Virtual Drive first!":
        - button
        - button [disabled]
    - row "dev-test Dahua site -280 50 GB 8 This Device is associated to a Virtual Drive, try to delete this Virtual Drive first!":
      - cell "dev-test":
        - paragraph: dev-test
      - cell "Dahua":
        - paragraph: Dahua
      - cell "site -280":
        - paragraph: site -280
      - cell "50 GB":
        - paragraph: 50 GB
      - cell "8":
        - paragraph:
          - link "8":
            - /url: /channels/?device_name=dev-test
      - cell "This Device is associated to a Virtual Drive, try to delete this Virtual Drive first!":
        - button
        - button [disabled]
    - row "dev-test Dahua site -280 50 GB 8 This Device is associated to a Virtual Drive, try to delete this Virtual Drive first!":
      - cell "dev-test":
        - paragraph: dev-test
      - cell "Dahua":
        - paragraph: Dahua
      - cell "site -280":
        - paragraph: site -280
      - cell "50 GB":
        - paragraph: 50 GB
      - cell "8":
        - paragraph:
          - link "8":
            - /url: /channels/?device_name=dev-test
      - cell "This Device is associated to a Virtual Drive, try to delete this Virtual Drive first!":
        - button
        - button [disabled]
    - row "dev-test Dahua site -280 50 GB 8 This Device is associated to a Virtual Drive, try to delete this Virtual Drive first!":
      - cell "dev-test":
        - paragraph: dev-test
      - cell "Dahua":
        - paragraph: Dahua
      - cell "site -280":
        - paragraph: site -280
      - cell "50 GB":
        - paragraph: 50 GB
      - cell "8":
        - paragraph:
          - link "8":
            - /url: /channels/?device_name=dev-test
      - cell "This Device is associated to a Virtual Drive, try to delete this Virtual Drive first!":
        - button
        - button [disabled]
    - row "dev-test Dahua site -280 50 GB 8 This Device is associated to a Virtual Drive, try to delete this Virtual Drive first!":
      - cell "dev-test":
        - paragraph: dev-test
      - cell "Dahua":
        - paragraph: Dahua
      - cell "site -280":
        - paragraph: site -280
      - cell "50 GB":
        - paragraph: 50 GB
      - cell "8":
        - paragraph:
          - link "8":
            - /url: /channels/?device_name=dev-test
      - cell "This Device is associated to a Virtual Drive, try to delete this Virtual Drive first!":
        - button
        - button [disabled]
    - paragraph: "Rows per page:"
    - 'button "Rows per page: 10"': "10"
    - paragraph: 1-10 of 27
    - button "Go to previous page" [disabled]
    - button "Go to next page"
- contentinfo:
  - paragraph:
    - text: © 2025, Made by
    - link "Acoba":
      - /url: https://www.acoba.com/
  - paragraph: v 1.1.0
- alert: Cam2Drive Dashboard
- button "Open Intercom Messenger":
  - img
```

# Test source

```ts
   1 | import { test, expect } from '@playwright/test';
   2 |
   3 | test.describe('Customer Device Management', () => {
   4 |   test.use({ storageState: 'authd.json' });
   5 |
   6 |   test.beforeEach(async ({ page }) => {
   7 |     await page.goto('https://dashboard.cam2drive-bt.com/devices/');
   8 |   });
   9 |
  10 |   async function connectAsTestCustomer(page) {
  11 |       await page.getByRole('textbox', { name: 'Email' }).fill('daly');
  12 |
  13 |     await expect(page.getByText('dalynaguez@gmail.com', { exact: false })).toBeVisible({ timeout: 300000 });
  14 | await page.getByRole('row')
  15 |   .filter({ hasText: 'dalynaguez@gmail.com' })
  16 |   .getByRole('button')
  17 |   .first()
  18 |   .click();
  19 |       await expect(page.getByRole('link', { name: 'My Customers' })).toBeVisible();
  20 |       await page.getByRole('textbox', { name: 'Email' }).click();
  21 |   await page.getByRole('textbox', { name: 'Email' }).fill('tes');
  22 |     await expect(page.getByText('Test-Customer test')).toBeVisible();
  23 |     await page.getByRole('row', { name: /Test-Customer test/ }).getByRole('button', { name: 'Connect as' }).click();
  24 |     await expect(page.getByText('Detections')).toBeVisible();
  25 |   }
  26 |
  27 |   test('Add new device', async ({ page }) => {
  28 |     await connectAsTestCustomer(page);
  29 |     await page.getByRole('link', { name: 'My Devices' }).click();
  30 |     await expect(page.getByRole('button', { name: 'Add device' })).toBeVisible();
  31 |     await page.getByRole('button', { name: 'Add device' }).click();
  32 |     await page.getByText('Swift Minimalist Device Setup').click();
  33 |     await page.getByRole('textbox', { name: 'Device Name' }).fill('dev-test');
  34 |     await page.getByRole('button', { name: 'Manufacturer' }).click();
  35 |     await page.getByRole('option', { name: 'Dahua' }).click();
  36 |     await page.getByRole('button', { name: 'Site' }).click();
  37 |     await page.getByRole('option').nth(1).click({ force: true });
  38 |     await page.getByRole('button', { name: 'Device Type' }).click();
  39 |     await page.getByRole('option', { name: 'DVR' }).click();
  40 |     await page.getByRole('textbox', { name: 'Number of Channels' }).fill('8');
  41 |     await page.getByRole('button', { name: 'Submit' }).click();
  42 |     await expect(page.getByText('Congratulations ! Your Device')).toBeVisible();
  43 |     await page.locator('div').filter({ hasText: 'Congratulations ! Your Device' }).nth(1).click();
  44 |   });
  45 |
  46 |   test('Delete device', async ({ page }) => {
  47 |     await connectAsTestCustomer(page);
  48 |     await page.getByRole('link', { name: 'My Devices' }).click();
  49 |     await expect(page.getByRole('button', { name: 'Add device' })).toBeVisible();
> 50 |     await page.hover('button:has-text("Delete")');
     |                ^ Error: page.hover: Test timeout of 50000ms exceeded.
  51 |     await page.getByRole('button', { name: 'Delete' }).click();
  52 |     await expect(page.getByText('Are you sure you want to')).toBeVisible();
  53 |     await page.getByRole('button', { name: 'Delete' }).click();
  54 |     await expect(page.getByText('Device deleted successfully')).toBeVisible();
  55 |   });
  56 | });
```