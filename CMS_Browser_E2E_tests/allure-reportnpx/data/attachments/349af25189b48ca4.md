# Test info

- Name: Customer Sites managemment >> delete site
- Location: C:\Users\Daly\OneDrive - ESPRIT\Documents\Stage PFE\CMS_Browser_E2E_tests\tests\cutomer\customer-sites-tests.spec.ts:40:7

# Error details

```
Error: browserType.launch: Executable doesn't exist at C:\Users\Daly\AppData\Local\ms-playwright\chromium_headless_shell-1169\chrome-win\headless_shell.exe
╔═════════════════════════════════════════════════════════════════════════╗
║ Looks like Playwright Test or Playwright was just installed or updated. ║
║ Please run the following command to download new browsers:              ║
║                                                                         ║
║     npx playwright install                                              ║
║                                                                         ║
║ <3 Playwright Team                                                      ║
╚═════════════════════════════════════════════════════════════════════════╝
```

# Test source

```ts
   1 | import { test, expect } from '@playwright/test';
   2 |
   3 | test.describe('Customer Sites managemment', () => {
   4 |   test.use({ storageState: 'authd.json' });
   5 |
   6 |   test.beforeEach(async ({ page }) => {
   7 |     await page.goto('https://dashboard.cam2drive-bt.com/devices/');
   8 |   });
   9 |
  10 |   async function connectAsTestCustomer(page) {
  11 |     await expect(page.getByText('distributor')).toBeVisible();
  12 |     await expect(page.getByText('dalynaguez@gmail.com')).toBeVisible();
  13 | await page.getByRole('row')
  14 |   .filter({ hasText: 'dalynaguez@gmail.com' })
  15 |   .getByRole('button')
  16 |   .first()
  17 |   .click();
  18 |       await expect(page.getByRole('link', { name: 'My Customers' })).toBeVisible();
  19 |       await page.getByRole('textbox', { name: 'Email' }).click();
  20 |   await page.getByRole('textbox', { name: 'Email' }).fill('tes');
  21 |     await expect(page.getByText('Test-Customer test')).toBeVisible();
  22 |     await page.getByRole('row', { name: /Test-Customer test/ }).getByRole('button', { name: 'Connect as' }).click();
  23 |     await expect(page.getByText('Detections')).toBeVisible();
  24 |   }
  25 |
  26 |   test('add site', async ({ page }) => {
  27 |     const siteName = `site-${Math.floor(Math.random() * 10000)}`;
  28 |     const address = `${Math.floor(Math.random() * 1000)} Main St, Springfield`;
  29 |
  30 |     await connectAsTestCustomer(page);
  31 |     await page.getByRole('link', { name: 'My Sites' }).click();
  32 |     await expect(page.getByText('Sites', { exact: true })).toBeVisible();
  33 |     await page.getByRole('button', { name: 'Add Site' }).click();
  34 |     await page.getByRole('textbox', { name: 'Name' }).fill(siteName);
  35 |     await page.getByRole('textbox', { name: 'Address' }).fill(address);
  36 |     await page.getByRole('button', { name: 'Submit' }).click();
  37 |     await expect(page.getByText('Site created successfully')).toBeVisible();
  38 |   });
  39 |
> 40 |   test('delete site', async ({ page }) => {
     |       ^ Error: browserType.launch: Executable doesn't exist at C:\Users\Daly\AppData\Local\ms-playwright\chromium_headless_shell-1169\chrome-win\headless_shell.exe
  41 |     await connectAsTestCustomer(page);
  42 |     await page.getByRole('link', { name: 'My Sites' }).click();
  43 |     await expect(page.getByText('Sites', { exact: true })).toBeVisible();
  44 |     await expect(page.getByText('UTC').first()).toBeVisible();
  45 |
  46 |     const deleteButtons = page.locator('button:has-text("Delete")');
  47 |     await deleteButtons.nth(1).hover();
  48 |     await deleteButtons.nth(1).click();
  49 |     await page.getByRole('button', { name: 'delete' }).click();
  50 |     // await expect(page.getByText('Site deleted successfully')).toBeVisible();
  51 |   });
  52 | });
```